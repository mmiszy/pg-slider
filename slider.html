<style>
	#colourRect {
		width: 50px;
		height: 50px;
		border: 1px solid black;
	}
</style>
<script>
	window.$ = window.$ || function (sel) { return document.querySelector(sel); };
	window.$$ = window.$$ || function (sel) { return document.querySelectorAll(sel); };
	var ColourPicker = (function () {
		"use strict";
		var ranges = [],
			numbers = [],
			colourRect,
			init = false;
		var C = {
			init: function () {
				if (init) {
					return;
				}
				init = true;

				var colours = ['red', 'green', 'blue'];
				for(var i in colours) {
					var range, number;

					range = document.createElement('input');
					range.id = colours[i];
					range.step = 1;
					range.min = 0;
					range.max = 255;
					range.value = 0;
					range.type = "range";
					ranges[i] = range;

					number = document.createElement('input');
					number.id = colours[i] + 'Num';
					number.step = 1;
					number.min = 0;
					number.max = 255;
					number.value = 0;
					number.type = "number";
					numbers[i] = number;
				}

				colourRect = document.createElement('div');
				colourRect.style.width = colourRect.style.height = "50px";
				colourRect.style.border = "1px solid black";

				window.addEventListener("load", function () {
					// add elements and bindings
					for (var i in colours) {
						(function (r, n) {
							r.addEventListener('change', function (ev) {
								n.value = r.value;
								C.updateColour();
							});
							n.addEventListener('change', function (ev) {
								r.value = n.value;
								C.updateColour();
							});

							$('body').appendChild(r);
							$('body').appendChild(n);
						}(ranges[i], numbers[i]));
					}

					$('body').appendChild(colourRect);

					C.updateColour();
				});
			},

			updateColour: function () {
				var rgb = 'rgb(' + ranges[0].value + ', ' + ranges[1].value + ', ' + ranges[2].value + ')';
				colourRect.style.backgroundColor = rgb;
			}
		};

		return C;
	}());

	ColourPicker.init();
</script>